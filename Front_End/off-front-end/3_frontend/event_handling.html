<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let offImg = "./img/pic_bulboff.gif";

        function changeImg(){
            let light1 = document.querySelector("#light1");
            let src = light1.getAttribute("src");
            if(src.indexOf("bulbon") != -1){
                light1.setAttribute("src",offImg);
            }else{
                light1.setAttribute("src","./img/pic_bulbon_yellow.gif");
            }
        }
        function changeImg2(){
            // let light = event.target;
            console.log(this);
            let light = this;
            let src = light.getAttribute("src");
            let color = light.getAttribute("data-color");
            if(src.indexOf("bulbon") != -1){
                light.setAttribute("src",offImg);
            }else{
                light.setAttribute("src",`./img/pic_bulbon_${color}.gif`);
            }
        }
        function changeImg3(){
            console.log(this);
            let light = this;
            let src = light.getAttribute("src");
            let color = light.getAttribute("data-color");
            if(src.indexOf("bulbon") != -1){
                light.setAttribute("src",offImg);
            }else{
                light.setAttribute("src",`./img/pic_bulbon_${color}.gif`);
            }
        }

        window.onload = function(){
            let imgs = document.querySelectorAll("#lights>img");
            for (const img of imgs) {
                img.addEventListener("click",changeImg3);
                img.addEventListener("click",function(){
                    console.log("click....");
                });
                // img.onclick = changeImg3
            }
        }

    </script>
</head>
<body>
    <img src="./img/pic_bulbon_yellow.gif" id="light1" onclick="changeImg()">
    <img src="./img/pic_bulbon_yellow.gif" data-color="yellow" onclick="changeImg2()">
    <img src="./img/pic_bulbon_green.gif" data-color="green" onclick="changeImg2()">
    <img src="./img/pic_bulbon_red.gif" data-color="red" onclick="changeImg2()">
    <img src="./img/pic_bulbon_blue.gif" data-color="blue" onclick="changeImg2()">
    <hr/>
    <div id="lights">
        <img src="./img/pic_bulbon_yellow.gif" data-color="yellow">
        <img src="./img/pic_bulbon_green.gif" data-color="green">
        <img src="./img/pic_bulbon_red.gif" data-color="red">
        <img src="./img/pic_bulbon_blue.gif" data-color="blue">
    </div>

    <script>
        // let imgs = document.querySelectorAll("#lights>img");
        // for (const img of imgs) {
        //     img.onclick = changeImg3
        // }
    </script>
</body>
</html>